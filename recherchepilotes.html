<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>noStage</title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="style/affchenseignant2.css" />
    <link rel="stylesheet" href="style/affchenseignant.css" />

    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap"
    />
  </head>
  <body>
    <header>
      <img
        class="logo"
        src="image/logo entreprise.png"
        alt="logo de l'entreprise"
      />
      <nav class="navbar">
        <div class="container">
          <a href="#">Acceuil</a>
          <div class="dropdown_1">
            <button>Chercher</button>
            <div class="content">
              <a href="#">Entreprises</a>
              <a href="#">Stages</a>
            </div>
          </div>
          <div class="dropdown_2">
            <button>Gérer</button>
            <div class="content_gerer">
              <a href="#">Enseignants</a>
              <a href="#">Entreprises</a>
              <a href="#">Etudiants</a>
              <a href="#">Offres</a>
            </div>
          </div>
          <div class="dropdown_3">
            <button>Statistiques</button>
            <div class="content_stat">
              <a href="#">Entreprises</a>
              <a href="#">Etudiants</a>
              <a href="#">Offres</a>
            </div>
          </div>
        </div>
        <div class="profile-container">
          <img class="profil" src="image/profil.png" alt="profil utilisateur" />
          <img
            class="menu_profil"
            src="image/menu profil.png"
            alt="menu profil utilisateur"
          />
        </div>
      </nav>
    </header>

    <main>
      <div class="container2">
        <div class="menu">
          <ul>
            <div class="square">
              <li class="active"><a href="#">Pilotes</a></li>
            </div>
            <li><a href="#">Offres</a></li>
            <li><a href="#">Étudiants</a></li>
            <li><a href="#">Entreprise</a></li>
          </ul>
        </div>
        <div class="squaredg">
          <div class="headertab">
            <input type="search" id="searchbar" placeholder="Rechercher..." />
            <div class="btncountainer">
              <button class="btnajouter">
                <img class="imgplus" src="image/plus.png" />Ajouter des pilotes
                via un fichier CSV
              </button>
              <button onclick="openPopup1()" class="btnajouter">
                <img class="imgplus" src="image/plus.png" />un pilote
              </button>
            </div>
          </div>
          <table>
            <tr>
              <th>#</th>
              <th>Nom</th>
              <th>Prénom</th>
              <th>Centre</th>
              <th>Mail</th>
              <th>Promo</th>
              <th></th>
            </tr>

            <tbody id="myTable"></tbody>
          </table>
        </div>
      </div>

      <div id="popupajout1">
        <div class="popupcontent">
          <div id="creertxt">Créer un compte pilote</div>

          <form
            action="/votre-page-de-traitement"
            method="post"
            class="formcreer1"
          >
            <div id="nomprenom">
              <input
                type="text"
                id="prenom"
                name="prenom"
                placeholder="Prénom"
                required
              />
              <input
                type="text"
                id="nom"
                name="nom"
                placeholder="Nom"
                required
              />
            </div>
            <select id="centre" name="centre">
              <option value="" disabled selected>Centre</option>

              <option value="centre1">Centre 1</option>
              <option value="centre2">Centre 2</option>
              <option value="centre3">Centre 3</option>
            </select>
            <select id="promotion" name="promotion">
              <option value="" disabled selected>Promotion</option>
              <option value="promotion1">Promotion 1</option>
              <option value="promotion2">Promotion 2</option>
              <option value="promotion3">Promotion 3</option>
            </select>
            <input
              type="email"
              id="email"
              name="email"
              placeholder="Adresse e-mail"
              required
            />
            <input
              type="password"
              id="motdepasse"
              name="motdepasse"
              placeholder="Mot de passe"
              required
            />
            <input type="submit" value="Valider" />
          </form>
          <div id="closecircle"></div>

          <img id="close" src="image/close.png" onclick="openPopup1()" />
        </div>
      </div>
    </main>

    <script>
      var myArray = [
        {
          numero: "1",
          nom: "Dupont",
          prenom: "Jean",
          centre: "Centre 1",
          mail: "jean.dupont@example.com",
          promo: "Promotion 2022",
          plus: "Wesh",
        },
        {
          numero: "2",
          nom: "Martin",
          prenom: "Marie",
          centre: "Centre 2",
          mail: "marie.martin@example.com",
          promo: "Promotion 2023",
          plus: "Wesh",
        },
        {
          numero: "3",
          nom: "Dubois",
          prenom: "Pierre",
          centre: "Centre 3",
          mail: "pierre.dubois@example.com",
          promo: "Promotion 2021",
          plus: "Wesh",
        },
        {
          numero: "4",
          nom: "Bernard",
          prenom: "Sophie",
          centre: "Centre 1",
          mail: "sophie.bernard@example.com",
          promo: "Promotion 2022",
          plus: "Wesh",
        },
        {
          numero: "5",
          nom: "Thomas",
          prenom: "Luc",
          centre: "Centre 2",
          mail: "luc.thomas@example.com",
          promo: "Promotion 2023",
          plus: "Wesh",
        },
        {
          numero: "6",
          nom: "Petit",
          prenom: "Alice",
          centre: "Centre 3",
          mail: "alice.petit@example.com",
          promo: "Promotion 2021",
          plus: "Wesh",
        },
      ];

      buildTable(myArray);
      function buildTable(data) {
        var table = document.getElementById("myTable");
        table.innerHTML = "";

        for (var i = 0; i < data.length; i++) {
          var row = `<tr>
                        <td>${data[i].numero}</td>
                        <td>${data[i].nom}</td>
                        <td>${data[i].prenom}</td>
                        <td>${data[i].centre}</td>
                        <td>${data[i].mail}</td>
                        <td>${data[i].promo}</td>
                        <td> <img class="imgautre" src="image/autre.png"></td>


                  </tr>`;
          table.innerHTML += row;
        }
      }

      function openPopup1() {
        let popup = document.getElementById("popupajout1");
        popup.classList.toggle("open");
      }

      document
        .querySelector("#searchbar")
        .addEventListener("keyup", function (event) {
          var value = event.target.value;
          console.log("Value : ", value);
          var data = searchTable(value, myArray);
          buildTable(data);
        });
      function searchTable(value, data) {
        var filteredData = [];

        for (var i = 0; i < data.length; i++) {
          value = value.toLowerCase();
          var prenom = data[i].prenom.toLowerCase();
          if (prenom.includes(value)) {
            filteredData.push(data[i]);
          }
        }
        return filteredData;
      }
    </script>
  </body>
</html>
